{"version":3,"sources":["../../spells/Metamorphosis.ts"],"sourcesContent":["import { std } from \"wow/wotlk\";\nimport { CreatureDisplayInfoDBCFile } from \"wow/wotlk/dbc/CreatureDisplayInfo\";\nimport { CreatureDisplayInfo } from \"wow/wotlk/std/Creature/CreatureDisplayInfo\";\n\n\n\n// TODO: Currently making autoattack hit multiple targets or extending it's range isn't possible without core edits afaik.\n\n\n\nconst CONFIG = {\n    duration: 45000,\n    cooldown: 180000\n}\n\n\n\nconst metamorphosisModifyHaste = std.Spells\n    .create(\"hardmerged\", \"spell.metamorphosis.modify-haste\")\n    .Name.enGB.set(\"Metamorphosis (modify haste)\")\n    .Duration.setSimple(CONFIG.duration)\n    .Cooldown.Time.set(CONFIG.cooldown)\n    .Attributes.HIDE_FROM_AURA_BAR.set(1)\n    .Effects.addMod(x=>x\n        .Type.APPLY_AURA.set()\n        .Aura.MOD_MELEE_RANGED_HASTE.set()\n        .PercentBase.set(34)\n        .PercentDieSides.set(1)\n        .ImplicitTargetA.UNIT_CASTER.set()\n    )\n    .Effects.addMod(x=>x\n        .Type.APPLY_AURA.set()\n        .Aura.MOD_SCALE.set()\n        .PercentBase.set(34)\n        .PercentDieSides.set(1)\n        .ImplicitTargetA.UNIT_CASTER.set()\n    )\n    .Effects.addMod(x=>x\n        .Type.APPLY_AURA.set()\n        .Aura.MOD_CASTING_SPEED_NOT_STACK.set()\n        .PercentBase.set(34)\n        .PercentDieSides.set(1)\n        .ImplicitTargetA.UNIT_CASTER.set()\n    )\n    .Tags.addUnique(\"hardmerged\", \"spell.metamorphosis.modify-haste\")\n;\n\n\n\nconst metamorphosisModifyRunesAndAutoattacks = std.Spells\n    .create(\"hardmerged\", \"spell.metamorphosis.modify-runes-and-autoattack\")\n    .Name.enGB.set(\"Metamorphosis (modify runes and autoattack)\")\n    .Duration.setSimple(CONFIG.duration)\n    .Cooldown.Time.set(CONFIG.cooldown)\n    .Attributes.HIDE_FROM_AURA_BAR.set(1)\n    .Effects.addMod(x=>x\n        .Type.APPLY_AURA.set()\n        .MiscValueA.set(6)\n        .MiscValueB.set(3)\n        .Aura.CONVERT_RUNE.set()\n        .CountBase.set(5)\n        .CountDieSides.set(1)\n        .Rune.DEATH.set()\n        .ImplicitTargetA.UNIT_CASTER.set()\n    )\n    .Effects.addMod(x=>x\n        .Type.TRIGGER_SPELL.set()\n        .TriggerSpell.set(metamorphosisModifyHaste.ID)\n    )\n    .Tags.addUnique(\"hardmerged\", \"spell.metamorphosis.modify-runes-and-autoattack\")\n;\n\n\n\nconst metamorphosisModifyMovementSpeedAndArmor = std.Spells\n    .create(\"hardmerged\", \"spell.metamorphosis.modify-movement-speed-and-armor\")\n    .Name.enGB.set(\"Metamorphosis (modify movement speed and armor)\")\n    .Duration.setSimple(CONFIG.duration)\n    .Cooldown.Time.set(CONFIG.cooldown)\n    .Attributes.HIDE_FROM_AURA_BAR.set(1)\n    .Effects.addMod(x=>x\n        .Type.APPLY_AURA.set()\n        .Aura.MOD_INCREASE_SPEED.set()\n        .PercentBase.set(34)\n        .PercentDieSides.set(1)\n        .ImplicitTargetA.UNIT_CASTER.set()\n    )\n    .Effects.addMod(x=>x\n        .Type.APPLY_AURA.set()\n        .MiscValueA.set(1)\n        .Aura.MOD_RESISTANCE_PCT.set()\n        .PercentBase.set(99)\n        .PercentDieSides.set(1)\n        .ImplicitTargetA.UNIT_CASTER.set()\n    )\n    .Effects.addMod(x=>x\n        .Type.TRIGGER_SPELL.set()\n        .TriggerSpell.set(metamorphosisModifyRunesAndAutoattacks.ID)\n    )\n    .Tags.addUnique(\"hardmerged\", \"spell.metamorphosis.modify-movement-speed-and-armor\")\n;\n\n\n\nexport const metamorphosis = std.Spells\n    .create(\"hardmerged\", \"spell.metamorphosis\")\n    .Name.enGB.set(\"Metamorphosis\")\n    .Description.enGB.set(\"Reset all rune cooldowns and all runes become death runes. Haste and movement speed increased by 35%, and armor is increased by 100%.\")\n    .Power.Type.RUNIC_POWER.set()\n    .Power.CostBase.set(600)\n    .Duration.setSimple(CONFIG.duration)\n    .Cooldown.Time.set(CONFIG.cooldown)\n    .Effects.addMod(x=>x\n        .Type.APPLY_AURA.set()\n        .Aura.MOD_SHAPESHIFT.set()\n        .Form.set(22)\n        .ImplicitTargetA.UNIT_CASTER.set()\n    )\n    .Effects.addMod(x=>x\n        .Type.TRIGGER_SPELL.set()\n        .TriggerSpell.set(metamorphosisModifyMovementSpeedAndArmor.ID)\n    )\n    .Tags.addUnique(\"hardmerged\", \"spell.metamorphosis\")\n;"],"names":["CONFIG","duration","cooldown","metamorphosisModifyHaste","Spells","create","Name","enGB","set","Duration","setSimple","Cooldown","Time","Attributes","HIDE_FROM_AURA_BAR","Effects","addMod","x","Type","APPLY_AURA","Aura","MOD_MELEE_RANGED_HASTE","PercentBase","PercentDieSides","ImplicitTargetA","UNIT_CASTER","MOD_SCALE","MOD_CASTING_SPEED_NOT_STACK","Tags","addUnique","metamorphosisModifyRunesAndAutoattacks","MiscValueA","MiscValueB","CONVERT_RUNE","CountBase","CountDieSides","Rune","DEATH","TRIGGER_SPELL","TriggerSpell","ID","metamorphosisModifyMovementSpeedAndArmor","MOD_INCREASE_SPEED","MOD_RESISTANCE_PCT","metamorphosis","Description","Power","RUNIC_POWER","CostBase","MOD_SHAPESHIFT","Form"],"mappings":"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"}